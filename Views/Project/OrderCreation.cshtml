@model CollegeProject.Models.OrderAndStudentModel

@{
    ViewData["Title"] = "Create Order";
}

<h2>Create Order</h2>

    <h3>Customer Details</h3>
<form>
    <div class="form-group">
        <label for="CustomerName">Customer Name</label>
        <input type="text" class="form-control" id="CustomerName" required />
    </div>

    <div class="form-group">
        <label for="CustomerAddress">Customer Address</label>
        <input type="text" class="form-control" id="CustomerAddress" required />
    </div>

    <div class="form-group">
        <label for="Phone">Customer Phone</label>
        <input type="text" class="form-control" id="Phone" required />
    </div>

    <div class="form-group">
        <label for="Email">Customer Email</label>
        <input type="email" class="form-control" id="Email" required />
    </div>

    <div class="form-group">
        <label for="OrderReceiveDate">Order Receive Date</label>
        <input type="date" class="form-control" id="OrderReceiveDate" required />
    </div>

    <h3>Order Details</h3>

    <div class="form-group">
        <label for="Amount">Amount</label>
        <input type="number" class="form-control" id="Amount" />
    </div>


    <div class="form-group">
        <label for="PaymentStatus">Payment Status</label>
        <select class="form-control custom-select" id="PaymentStatus" required>
            <option value="" disabled selected>Select Payment Status</option>
            <option value="COD">COD</option>
            <option value="Pre-Payment">Pre-Payment</option>
            <option value="Online">Online</option>
            <option value="Credit">Credit</option>
        </select>
    </div>

    <div class="form-group">
        <label for="DeliveryAddress">Delivery Address</label>
        <input type="text" class="form-control" id="DeliveryAddress" required />
    </div>

    <div class="form-group">
        <label for="DeliveryDate">Delivery Date</label>
        <input type="date" class="form-control" id="DeliveryDate" required />
    </div>

    <button type="submit" onclick="CreateOrder()" class="btn btn-primary">Create Order</button>
</form>
<script>
    function CreateOrder() {
        debugger;
        var CustomerName = $("#CustomerName").val();
        var CustomerAddress = $("#CustomerAddress").val();
        var Phone = $("#Phone").val();
        var Email = $("#Email").val();
        var OrderReceiveDate = $("#OrderReceiveDate").val();
        var Amount = $("#Amount").val();
        var PaymentStatus = $("#PaymentStatus").val();
        var DeliveryAddress =$("#DeliveryAddress").val();
        var DeliveryDate = $("#DeliveryDate").val();

        $.ajax({
            url: '@Url.Action("OrderCreation","Project")',
            type: 'Post',
            dataType: 'Json',
            data: {
                var orderAndStudentModel = {
                    customer: {
                        CustomerName: CustomerName,
                        CustomerAddress: CustomerAddress,
                        Phone: Phone,
                        Email: Email,
                        OrderReceiveDate: OrderReceiveDate
                    },
                    order: {
                        Amount: Amount,
                        PaymentStatus: PaymentStatus,
                        DeliveryAddress: DeliveryAddress,
                        DeliveryDate: DeliveryDate
                    }
                };

            },
            success:function(response){
                if(response){
                    alert("Order Added");
                }
                else{
                    alert("Order Could not be added");
                }

            },
            error:function(xhr,status,error){
                alert("Error Occured");
            }
        })
    }
</script>